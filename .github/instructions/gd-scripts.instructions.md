---
applyTo: '**/*.gd'
---
## GDScript 风格与类型偏好
- 在生成 GDScript 时遵循 Godot 4.x 官方风格（使用 class_name、snake_case 命名、onready、保持模块化与可读性）。
- 优先使用显式静态类型注解：为导出变量、函数参数与返回值添加类型提示；
- 修改导出的 Resource 属性时，请同时搜索并更新依赖的 .tscn 文件（.tscn 里可能包含资源路径）。
- 获取节点时，优先使用场景唯一节点（%RedButton）
- 使用制表符（Tab），不要使用空格。
- 使用完整的单词，避免缩写
- 对于私有变量，使用前缀 `_`（例如 `_counter`）
- 对于常量，使用驼峰加下划线（例如 `Max_Health`）

## 代码质量

- 遵循 SOLID 原则，保持代码模块化与可维护性
- 优先使用显式静态类型注解
- 优先使用async/await模式处理异步操作
- 避免使用魔法数字和字符串
- 单个.gd 脚本文件不允许超过 100 行，除非有充分理由
- 如果两段相同的代码会因为同样的原因变更，请将其提取为单独的函数或类